"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[443],{3039:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(9439),i=t(2791),s=t(5892),o=t(2920),a=t(9951),c=t(5427),l=t(3849),u=t(1413),d=t(7760),f=t(9740),p=t.p+"static/media/sand.f0084c43e26e42d064e7.jpg",j=t(184);function x(e){var n=(0,f.m)(p);return n.wrapS=n.wrapT=d.RepeatWrapping,(0,j.jsxs)(c.ib,(0,u.Z)((0,u.Z)({},e),{},{type:"fixed",colliders:!1,children:[(0,j.jsxs)("mesh",{receiveShadow:!0,position:[0,0,0],"rotation-x":-Math.PI/2,children:[(0,j.jsx)("planeGeometry",{args:[800,800]}),(0,j.jsx)("meshStandardMaterial",{color:"grey"})]}),(0,j.jsx)(c.jc,{args:[400,1,400],position:[0,0,0]})]}))}var g=t(3433),m=t(9914),h=t(2654),b=new d.Vector3,y=new d.Vector3,v=new d.Vector3;new d.Vector3;function w(e,n){var t=n.lerp,s=(void 0===t&&d.MathUtils.lerp,(0,i.useRef)()),a=(0,c.dv)(),l=(0,h.y)().camera,f=(0,o.Z)(),p=(0,r.Z)(f,2)[1];return(0,h.z)((function(e){var n,t=p(),r=t.forward,i=t.backward,o=t.left,c=t.right,u=t.jump,d=s.current.linvel();(n=l.position).set.apply(n,(0,g.Z)(s.current.translation())),y.set(0,0,i-r),v.set(o-c,0,0),b.subVectors(y,v).normalize().multiplyScalar(70).applyEuler(l.rotation),s.current.setLinvel({x:b.x,y:d.y,z:b.z});var f=a.world.raw().castRay(new m.Ray(s.current.translation(),{x:0,y:-1,z:0}));f&&f.collider&&Math.abs(f.toi);u&&s.current.setLinvel({x:0,y:102,z:0})})),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.ib,(0,u.Z)((0,u.Z)({},e),{},{ref:s,scale:3,colliders:!1,mass:1,type:"dynamic",enabledRotations:[!1,!1,!1],children:(0,j.jsx)(c.zm,{args:[.75,.5]})}))})}var Z=t(9187),k=t(6483),S=t(75),z=t(8334),P=(t(4509),t(2737)),F=t(6145),E=(t.p,(0,P.Z)((function(e){return{cubes:[],addCube:function(n,t,r){return e((function(e){return{cubes:[].concat((0,g.Z)(e.cubes),[[n,t,r]])}}))}}})),function(e){var n=(0,Z.L)("/model/buildings/hologram.glb"),t=(0,k.v)(n.animations),r=t.ref,s=t.actions,o=t.names,a=(0,i.useRef)();return(0,i.useEffect)((function(){s[o[0]].play()}),[s,o]),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("group",(0,u.Z)((0,u.Z)({ref:a},e),{},{children:(0,j.jsx)("primitive",{ref:r,object:n.scene,position:[0,14,0],scale:8})}))})}),R=function(e){var n=(0,h.C)(F.E,"/model/buildings/cj2.glb");return(0,j.jsx)(c.ib,(0,u.Z)((0,u.Z)({},e),{},{type:"fixed",colliders:"cuboid",children:(0,j.jsx)(S.o,{object:n.scene,scale:5})}))},L=function(e){var n=(0,h.C)(F.E,"/model/buildings/gemini.glb");return(0,j.jsx)(c.ib,(0,u.Z)((0,u.Z)({},e),{},{type:"fixed",colliders:"trimesh",children:(0,j.jsx)(S.o,{object:n.scene,scale:2.5})}))},C=function(e){var n=(0,h.C)(F.E,"/model/face.glb");return(0,j.jsx)("group",(0,u.Z)((0,u.Z)({},e),{},{children:(0,j.jsx)(S.o,{object:n.scene,rotation:[Math.PI/6,0,0]})}))},M=function(e){var n=(0,h.C)(F.E,"/model/buildings/magicBook.glb"),t=(0,i.useState)(null),s=(0,r.Z)(t,2),o=(s[0],s[1]);return(0,j.jsx)(c.ib,(0,u.Z)((0,u.Z)({onPointerMove:function(){o("red")},onPointerOut:function(){o("grey")},onClick:function(){e.click(123)}},e),{},{type:"kinematicPosition",colliders:"cuboid",children:(0,j.jsx)(S.o,{object:n.scene,scale:1})}))},A=function(e){var n=(0,Z.L)("/model/lightTube.glb"),t=(0,k.v)(n.animations),r=t.ref,s=t.actions,o=t.names,a=(0,i.useRef)();return(0,i.useEffect)((function(){s[o[0]].play()}),[s,o]),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("group",(0,u.Z)((0,u.Z)({ref:a},e),{},{children:(0,j.jsx)(S.o,{ref:r,object:n.scene,position:[0,12,0],scale:25,rotation:[0,0,Math.PI/2]})}))})},I=function(e){var n=(0,i.useRef)(),t=(0,h.C)(F.E,"/model/buildings/cityRing.glb");return(0,h.z)((function(){n.current.rotation.z-=.001})),(0,j.jsx)("group",(0,u.Z)((0,u.Z)({ref:n},e),{},{children:(0,j.jsx)(S.o,{object:t.scene,scale:[100,100,100]})}))},V=function(e){var n=(0,Z.L)("/model/whale1.glb"),t=(0,k.v)(n.animations),r=t.ref,s=t.actions,o=t.names,a=(0,i.useRef)();return(0,i.useEffect)((function(){s[o[0]].play()}),[s,o]),(0,h.z)((function(){a.current.rotation.y-=.001})),(0,j.jsx)("group",(0,u.Z)((0,u.Z)({ref:a},e),{},{children:(0,j.jsx)("primitive",{ref:r,object:n.scene,position:[1e3,0,0],scale:90})}))},H=function(e){var n=(0,i.useRef)(),t=(0,h.y)(),s=(t.size,t.viewport,t.camera),o=(t.gl,(0,i.useState)()),a=(0,r.Z)(o,2),c=a[0],l=a[1],u=(0,i.useState)(),f=(0,r.Z)(u,2),p=f[0],x=f[1],g=(0,i.useState)(),m=(0,r.Z)(g,2),b=m[0],y=m[1],v=(0,i.useState)(1),w=(0,r.Z)(v,2),Z=(w[0],w[1]);return(0,i.useEffect)((function(){var e=new d.AudioListener;x(e);var n=new d.PositionalAudio(e);l(n);var t=new d.AudioAnalyser(n,32);y(t),(new d.AudioLoader).load("/sound/SICKOMODE.mp3",(function(e){n.setBuffer(e),n.setLoop(!0),n.setVolume(32),n.play()}))}),[]),(0,i.useEffect)((function(){n.current&&s&&p&&(s.add(p),n.current.add(c))}),[p,s,c]),(0,h.z)((function(e){if(n.current){var t=b.getAverageFrequency();console.log(t),Z(t)}})),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(i.Suspense,{fallback:null,children:(0,j.jsx)("group",{ref:n,children:(0,j.jsx)(z.x,{size:16,children:"XXX"})})})})},X=t(2981);function D(){(0,i.useRef)();var e=(0,i.useRef)();return(0,h.z)((function(){e.current.rotation.y-=1e-4})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(X.t,{ref:e,radius:500,depth:100,count:5e3,factor:20,saturation:0,fade:!0,speed:3}),(0,j.jsx)("ambientLight",{color:"#FFFFFF",groundColor:"blue",intensity:.3})]})}function O(){var e=function(){var e=(0,h.y)().scene,n=(new d.CubeTextureLoader).load(["/image/space2/right.jpg","/image/space2/left.jpg","/image/space2/right.jpg","/image/space2/bottom.jpg","/image/space2/front.jpg","/image/space2/back.jpg"]);return e.background=n,null};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(i.Suspense,{fallback:null,children:(0,j.jsx)(e,{})})})}var T=t(4954);function q(){var e=(0,l.M4)({Hall1Pos:[-230,-1.9,250],Hall2Pos:[230,-1.9,250],EnterPos:[-17,4,255]}),n=e.Hall1Pos,t=e.Hall2Pos,u=(e.EnterPos,(0,i.useState)([0,50,200])),d=(0,r.Z)(u,2),f=d[0],p=d[1];return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(o.c,{map:[{name:"forward",keys:["ArrowUp","w","W"]},{name:"backward",keys:["ArrowDown","s","S"]},{name:"left",keys:["ArrowLeft","a","A"]},{name:"right",keys:["ArrowRight","d","D"]},{name:"jump",keys:["Space"]}],children:(0,j.jsxs)(s.Xz,{camera:{fov:50,far:2e4},children:[(0,j.jsx)(O,{}),(0,j.jsxs)(i.Suspense,{fallback:null,children:[(0,j.jsx)("ambientLight",{intensity:.3}),(0,j.jsx)("pointLight",{castShadow:!0,intensity:.8,position:[100,100,100],"shadow-mapSize-height":1024,"shadow-mapSize-width":1024,"shadow-radius":10,"shadow-bias":-1e-4}),(0,j.jsx)(D,{}),(0,j.jsxs)(c.wI,{gravity:[0,-30,0],children:[(0,j.jsx)(x,{}),(0,j.jsx)(w,{position:f}),(0,j.jsx)(E,{position:n,"rotation-y":Math.PI/2}),(0,j.jsx)(R,{position:t,"rotation-y":-Math.PI/2}),(0,j.jsx)(L,{position:[0,500,-300]}),(0,j.jsx)(A,{position:[-300,0,350],scale:20}),(0,j.jsx)(A,{position:[450,0,350],scale:20}),(0,j.jsx)(A,{position:[50,0,-200],scale:20}),(0,j.jsx)(V,{position:[-370,500,100]}),(0,j.jsx)(C,{position:[-1300,600,-200],scale:1.9,"rotation-y":Math.PI/2}),(0,j.jsx)(I,{position:[0,0,2e3],scale:30}),(0,j.jsx)(M,{position:[-180,0,-215],scale:1,click:function(){p([-100,530,-300])}}),(0,j.jsx)(H,{position:[0,0,0],scale:5})]}),(0,j.jsx)(a.q,{}),(0,j.jsx)(T.Iy,{position:"bottom-right"})]})]})})})}function B(){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(q,{})})}}}]);
//# sourceMappingURL=443.91b589f7.chunk.js.map